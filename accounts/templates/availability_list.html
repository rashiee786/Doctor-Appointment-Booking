{% extends 'base.html' %}
{% block content %}
<div class="container py-4">
  <h3 class="mb-3">Your Availability</h3>
  <p class="text-muted">These are the time slots when patients can book appointments with you.</p>

  <!-- Add Slot button -->
  <a href="{% url 'accounts:availability_create' %}" class="btn btn-primary mb-3">
    <i class="bi bi-plus-circle"></i> Add Slot
  </a>

  <!-- Availability slots -->
  {% if availabilities %}
    {% for a in availabilities %}
      <div class="card mb-3">
        <div class="card-body d-flex justify-content-between align-items-center">
          <div>
            <i class="bi bi-calendar-week"></i> <strong>{{ a.get_day_of_week_display }}</strong><br>
            <i class="bi bi-clock"></i> {{ a.start_time }} – {{ a.end_time }}
          </div>
          <form method="post" action="{% url 'accounts:availability_delete' a.pk %}">
            {% csrf_token %}
            <button class="btn btn-sm btn-outline-danger">Delete</button>
          </form>
        </div>
      </div>
    {% endfor %}
  {% else %}
    <div class="alert alert-info text-center">
      You haven’t added any availability yet. Click “Add Slot” to get started.
    </div>
  {% endif %}
</div>
{% endblock %}
